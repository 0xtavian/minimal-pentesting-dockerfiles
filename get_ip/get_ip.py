import requests
import sys
import pprint

def main():
    if len(sys.argv) < 2:
        print("[!] no IP supplied")
        sys.exit(1)
    ip = sys.argv[1]
    api_url = f"http://ip-api.com/json/{ip}"
    resp = requests.get(api_url)
    pp = pprint.PrettyPrinter(indent=4)
    if resp.status_code is not 200:
        print("[!] Error while retrieving data from API")
        sys.exit(1)
    else:
        pp.pprint(resp.json())

def get_ip():
    """Get the external IPv4 from Host.
    """
    api_urls = ["ipv4bot.whatismyipaddress.com"]
    ips = []
    for url in api_urls:
        resp= requests.get(f"http://{url}")   
        if resp.status_code is not 200:
            print("[!] Error while retrieving data from API")
            sys.exit(1)
        else:
            ips.append(resp.text)
    print(ips)
if __name__ == "__main__":
    get_ip()